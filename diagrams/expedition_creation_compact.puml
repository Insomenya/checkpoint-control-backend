@startuml Expedition Creation Compact

title Процесс создания экспедиции (компактная версия)

skinparam activityBorderColor black
skinparam activityBackgroundColor LightSkyBlue
skinparam arrowColor DarkBlue

|Логист|
start
:Открыть экран создания экспедиции;

|#AntiqueWhite|Фронтенд|
:Отобразить 3-шаговую форму;

|Логист|
:Шаг 1: Заполнить основные параметры
(направление, отправитель, получатель);

|Фронтенд|
:Перейти ко второму шагу;

|Логист|
:Шаг 2: Заполнить данные экспедиции
(наименование, тип, данные водителя)
и данные ТС (если требуется);

|Фронтенд|
:Перейти к третьему шагу;

|Логист|
:Шаг 3: Добавить накладные
и выбрать существующие товары
с указанием количества;

:Подтвердить создание;

|Фронтенд|
:Отправить данные на сервер;

|#LightYellow|Бэкенд API|
:Валидировать и сохранить данные;

if (Данные валидны?) then (да)
  :Создать экспедицию с накладными;
  
  |Фронтенд|
  :Отобразить успешное создание;
else (нет)
  :Вернуть ошибки;
  
  |Фронтенд|
  :Отобразить ошибки
  и прервать создание;
endif

|Логист|
:Завершить процесс;

stop

@enduml 